<!DOCTYPE html>
<html>
<head>
	
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-DD997656SV"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-DD997656SV');
	</script>

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>What&#39;s in a Good Error Message? - Gunnar Morling</title>
	<link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png" />
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png" />
	<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
	<link rel="shortcut icon" href="/favicon/favicon.ico" />

	<meta name="viewport" content="width=device-width, initial-scale=1">

	
	<link rel="preload" href="/fonts/raleway-v37-latin-200.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/raleway-v37-latin-300.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/raleway-v37-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

	<link rel="preload" href="/fonts/lato-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lato-latin-400-italic.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lato-latin-700-normal.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lato-latin-700-italic.woff2" as="font" type="font/woff2" crossorigin>

	<link rel="preload" href="/fonts/lora-latin-400-normal.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lora-latin-400-italic.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lora-latin-700-normal.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/fonts/lora-latin-700-italic.woff2" as="font" type="font/woff2" crossorigin><meta property="og:url" content="https://www.morling.dev/blog/whats-in-a-good-error-message/">
  <meta property="og:site_name" content="Gunnar Morling">
  <meta property="og:title" content="What&#39;s in a Good Error Message?">
  <meta property="og:description" content=" As software developers, weâ€™ve all come across those annoying, not-so-useful error messages when using some library or framework: &amp;#34;Couldnâ€™t parse config file&amp;#34;, &amp;#34;Lacking â€¦">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="blog">
    <meta property="article:section" content="blog">
    <meta property="article:published_time" content="2022-01-12T19:20:00&#43;01:00">
    <meta property="article:modified_time" content="2022-01-12T19:20:00&#43;01:00">
<meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="What&#39;s in a Good Error Message?">
  <meta name="twitter:description" content=" As software developers, weâ€™ve all come across those annoying, not-so-useful error messages when using some library or framework: &amp;#34;Couldnâ€™t parse config file&amp;#34;, &amp;#34;Lacking â€¦">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.min.efd5060e5dbdbc4655a896b01b99c2b759dc5710f5cfda5ed34c2259de325469.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.min.7e747dab5a47b967474cfdc64085734aa21b459c2bc3519033238d0258bb7dcc.css" />

	
	<link rel="stylesheet" type="text/css" href="/css/base16.dark.min.c40398d5ec04ac387c57141dc29e820fc4012da1cf2af8235004fc9945fa76a8.css" />
	
	<link rel="stylesheet" type="text/css" href="/css/morlingdev.min.a843de4b13aff303d508e35a81a34a96a326b92121e0b0f50eceadc28ce63059.css" />
	

	<script>
		const searchUrl = "https:\/\/search-morling-dev.onrender.com\/";
		const apiKey = "ff90d45f4afad3bd914c";
	</script>
	<script src="/js/main.min.9ee619eea7f51473f4284ef86c76bdb1b0089e19781ca97275924edf53be5bd4.js"></script>
	<script src="https://www.morling.dev//js/medium-zoom.min.js"></script>

	<noscript>
		<style type="text/css">
			.club { display:none; }
		</style>
	</noscript>
</head>

<body>
	<div class="container wrapper post">
		<div class="header desktop">

	<div class="row">
		<div class="header-image-container">
			<img class="header-image" src="/images/gunnar_morling.jpg" alt="Gunnar Morling">
		</div>
		<div class="fill">
			<h1 class="site-title"><a href="https://www.morling.dev/">Gunnar Morling</a></h1>
			<div class="site-description"><h2>Random Musings on All Things Software Engineering</h2></div>

			<nav class="row pre-nav">
				<div class="pull-right">
					<ul class="flat"><li>
							<a href="/blog/index.xml" title="RSS FEED">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#rss"/>
								</svg>
							</a>
						</li><li>
							<a href="https://github.com/gunnarmorling" title="GitHub">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#github"/>
								</svg>
							</a>
						</li><li>
							<a href="https://bsky.app/profile/gunnarmorling.dev" title="Bluesky">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#cloud"/>
								</svg>
							</a>
						</li><li>
							<a href="https://twitter.com/gunnarmorling" title="Twitter">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#twitter"/>
								</svg>
							</a>
						</li><li>
							<a href="https://www.linkedin.com/in/gunnar-morling/" title="LinkedIn">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#linkedin"/>
								</svg>
							</a>
						</li><li>
							<a href="https://mastodon.online/@gunnarmorling" title="Mastodon">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#message-square"/>
								</svg>
							</a>
						</li></ul>
				</div>
			</nav>
			<nav class="row nav">
				<div>
					<ul class="flat">
						
						<li>
							<a href="/blog">Blog</a>
						</li>
						
						<li>
							<a href="/projects/">Projects</a>
						</li>
						
						<li>
							<a href="/conferences/">Conferences</a>
						</li>
						
						<li>
							<a href="/podcasts/">Podcasts</a>
						</li>
						
						<li>
							<a href="/about/">About</a>
						</li>
						
					</ul>
				</div>
				<div class="pull-right">
					<div class="club">
						<form id="myForm">
							<input type="text" id="inputSearch" name="q" placeholder="Search..." onfocus="warmUp(this)">
							<button type="submit" id="buttonSubmitSearch" style="line-height: normal;"><i id="iconSearch" class="fa fa-search"></i></button>
						</form>
					</div>
				</div>
			</nav>
		</div>
	</div>
</div>

<div class="header mobile">

	<div class="row">
		<div class="header-image-container">
			<img class="header-image" src="/images/gunnar_morling.jpg" alt="Gunnar Morling">
		</div>
		<div class="fill">
			<h1 class="site-title"><a href="https://www.morling.dev/">Gunnar Morling</a></h1>
			<div class="site-description"><h2>Random Musings on All Things Software Engineering</h2></div>
		</div>
	</div>
	<div>
		<div>
			<nav class="row pre-nav">
				<div class="pull-right">
					<ul class="flat"><li>
							<a href="/blog/index.xml" title="RSS FEED">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#rss"/>
								</svg>
							</a>
						</li><li>
							<a href="https://github.com/gunnarmorling" title="GitHub">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#github"/>
								</svg>
							</a>
						</li><li>
							<a href="https://bsky.app/profile/gunnarmorling.dev" title="Bluesky">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#cloud"/>
								</svg>
							</a>
						</li><li>
							<a href="https://twitter.com/gunnarmorling" title="Twitter">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#twitter"/>
								</svg>
							</a>
						</li><li>
							<a href="https://www.linkedin.com/in/gunnar-morling/" title="LinkedIn">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#linkedin"/>
								</svg>
							</a>
						</li><li>
							<a href="https://mastodon.online/@gunnarmorling" title="Mastodon">
								<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<use xlink:href="/svg/feather-sprite.svg#message-square"/>
								</svg>
							</a>
						</li></ul>
				</div>
			</nav>
			<nav class="row nav">
				<div>
					<ul class="flat">
						
						<li>
							<a href="/blog">Blog</a>
						</li>
						
						<li>
							<a href="/projects/">Projects</a>
						</li>
						
						<li>
							<a href="/conferences/">Conferences</a>
						</li>
						
						<li>
							<a href="/podcasts/">Podcasts</a>
						</li>
						
						<li>
							<a href="/about/">About</a>
						</li>
						
					</ul>
				</div>
				<div class="pull-right">
					<div class="club">
						<form id="myFormMobile">
							<input type="text" id="inputSearchMobile" name="q" placeholder="Search..." onfocus="warmUp(this)">
							<button type="submit" id="buttonSubmitSearchMobile" style="line-height: normal;"><i id="iconSearchMobile" class="fa fa-search"></i></button>
						</form>
					</div>
				</div>
			</nav>
		</div>
	</div>
</div>

<script type="text/javascript">
	window.addEventListener( "load", function () {
		const urlParams = new URLSearchParams(window.location.search);

		


		const form = document.getElementById( "myForm" );

		form.addEventListener("submit", function (event) {
			event.preventDefault();
			sendData(new FormData(form));
		});

		const formMobile = document.getElementById( "myFormMobile" );

		formMobile.addEventListener("submit", function (event) {
			event.preventDefault();
			sendData(new FormData(formMobile));
		});
	});
</script>


		<div id = "main-content">
			<div class="post-header">
				<h1 class="title">What&#39;s in a Good Error Message?</h1>
				<div class="post-meta-line">
					<span class="meta">Posted at Jan 12, 2022</span>
					
					<span class="post-tags-inline">
						
						<a href="/tags/software-engineering">software-engineering</a>
						
						<a href="/tags/api-design">api-design</a>
						
					</span>
					
				</div>
			</div>

			<div class="post-content">
				<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_context">Context</a></li>
<li><a href="#_the_error_itself">The Error Itself</a></li>
<li><a href="#_mitigation">Mitigation</a></li>
<li><a href="#_general_best_practices">General Best Practices</a></li>
</ul>
</div>
<div class="paragraph">
<p>As software developers, weâ€™ve all come across those annoying, not-so-useful error messages when using some library or framework: <em>&#34;Couldnâ€™t parse config file&#34;</em>, <em>&#34;Lacking permission for this operation&#34;</em>, etc.
Ok, ok, so <em>something</em> went wrong apparently; but what exactly? What config file? Which permissions? And what should you do about it?
Error messages lacking this kind of information quickly create a feeling of frustration and helplessness.</p>
</div>
<div class="paragraph">
<p>So what makes a good error message then?
To me, it boils down to three pieces of information which should be conveyed by an error message:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Context:</strong> What led to the error? What was the code trying to do when it failed?</p>
</li>
<li>
<p><strong>The error itself:</strong> What exactly failed?</p>
</li>
<li>
<p><strong>Mitigation:</strong> What needs to be done in order to overcome the error?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Letâ€™s dive into these individidual aspects a bit.
Before we start, let me clarify that this is about error messages created by library or framework code,
for instance in form of an exception message, or in form of a message written to some log file.
This means the consumers of these error messages will typically be either other software developers
(encountering errors raised by 3rd party dependencies during application development),
or ops folks (encountering errors while running an application).</p>
</div>
<div class="paragraph">
<p>Thatâ€™s in contrast to user-facing error messages,
for which other guidance and rules (in particular in regards to security concerns) should be applied.
For instance, you typically should not expose any implementation details in a user-facing message,
whereas thatâ€™s not that much of a concernâ€‰â€”â€‰or on the contrary, it can even be desirableâ€‰â€”â€‰for the kind of error messages discussed here.</p>
</div>
<div class="sect1">
<h2 id="_context">Context<a class="anchor" href="#_context"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a way, an error message tells a story; and as with every good story,
you need to establish some context about its general settings.
For an error message, this should tell the recipient what the code in question was trying to do when it failed.
In that light, the first example above, <em>&#34;Couldnâ€™t parse config file&#34;</em>,
is addressing this aspect (and only this one) to some degree,
but probably itâ€™s not enough.
For instance, it would be very useful to know the exact name of the file:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t parse config file: /etc/sample-config.properties&#34;</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Using an example from <a href="https://debezium.io/">Debezium</a>,
the open-source change data capture platform I am working on in my day job,
the second message could read like so with some context about what happened:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Failed to create an initial snapshot of the data; lacking permission for this operation</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Coming back to error messages related to the processing of some input or configuration file,
it can be a good idea to print the absolute path.
In case file system resources are provided as relative paths,
this can help to identify wrong assumptions around the current working directory,
or whatever else is used as the root for resolving relative paths.
On the other hand, in particular in case of multi-tenant or SaaS scenarios,
you may consider filesystem layouts as a confidential implementation detail,
which you may prefer to not reveal to unknown code you run.
Whatâ€™s best here depends on your specific situation.</p>
</div>
<div class="paragraph">
<p>If some framework supports different kinds of files,
the specific kind of the problematic file in question should be part of the message as well: <em>&#34;Couldnâ€™t parse entity mapping fileâ€¦â€‹&#34;</em>.
If the error is about specific parts of the contents of a file,
displaying the line number and/or the line itself is a good idea.</p>
</div>
<div class="paragraph">
<p>In terms of <em>how</em> to convey the context of an error,
it can be part of messages themselves,
as shown above.
Many logging frameworks also support the notion of a <a href="https://www.baeldung.com/mdc-in-log4j-2-logback">Mapped Diagnostic Context</a> (MDC),
a map for propagating arbitrary key/value pairs into log messages.
So if your messages are meant to show up in logs, setting contextual information to the MDC can be very useful.
In Debezium this is used for instance to propagate the name of the affected connector,
allowing Kafka Connect users to tell apart log messages originating from different connectors deployed to the same Connect cluster.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As far as propagating contextual information via log messages is concerned (as opposed to, say, error messages printed by a CLI tool),
<a href="https://www.innoq.com/en/blog/structured-logging/">structured logging</a>, typically in form of JSON, simplifies any downstream processing.
By putting contextual information into separate attributes of a structured log entry,
consumers can easily filter messages, ingest only specific sub-sets of messages based on their contents, etc.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In case of exceptions, the chain of exceptions leading to the root cause is an important contextual information, too.
So Iâ€™d recommend to always log the entire exception chain,
rather than catching exceptions and only logging some substitute message instead.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_error_itself">The Error Itself<a class="anchor" href="#_the_error_itself"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>On to the next part then, the description of the actual error itself.
Thatâ€™s where you should describe what exactly happened in a concise way.
Sticking to the examples above, the first message, including context and error description could read like so:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t parse config file: /etc/sample-config.properties; given snapshot mode &#39;nevr&#39; isnâ€™t valid</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>And for the second one:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Failed to create an initial snapshot of the data; database user &#39;snapper&#39; is lacking the required permissions</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Other than that, thereâ€™s not too much to be said here;
try to be efficient: make messages as long as needed, and as short as possible.
One idea could be to work with different variants of messages for the same kind of error, a shorter and a longer one.
Which one is used could be controlled via log levels or some kind of &#34;verbose&#34; flag.
Java developers may find CÃ©dric Champeauâ€™s <a href="https://github.com/melix/jdoctor">jdoctor</a> library useful for implementing this.
Personally, I havenâ€™t used such an approach yet, but it may be worth the effort for specific situations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_mitigation">Mitigation<a class="anchor" href="#_mitigation"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having established the context of the failure and what went wrong exactly,
the lastâ€‰â€”â€‰and oftentimes most interestingâ€‰â€”â€‰part is a description of how the user can overcome the error.
Whatâ€™s the action they need to take in order to avoid it?
This could be as simple as telling the user about the constraints and/or valid values in case of the config file example
(i.e. akin to test failure messages, which show both expected and actual values):</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t parse config file: /etc/sample-config.properties; given snapshot mode &#39;nevr&#39; isnâ€™t valid (must be one of &#39;initial&#39;, &#39;always&#39;, &#39;never&#39;)</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>In case of the permission issue, you may clarify which ones are needed:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t take database snapshot: database user &#39;snapper&#39; is lacking the required permissions &#39;SELECT&#39;, &#39;REPLICATION&#39;</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Alternatively, if longer mitigation strategies are required,
you may point to a (stable!) URL in your reference documention which provides the required information:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t take database snapshot: database user &#39;snapper&#39; is lacking the required permissions. Please see <a href="https://example.com/knowledge-base/snapshot-permissions/" class="bare">https://example.com/knowledge-base/snapshot-permissions/</a> for the complete set of necessary permissions</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>If some configuration change is required (for instance database or IAM permissions), your users will love you even more if you share that information in &#34;executable&#34; form,
for instance as GRANT statements which they can simply copy,
or vendor-specific CLI invocations such as <code>aws iam attach-role-policy --policy-arn arn:aws:iam::aws:policy/SomePolicy --role-name SomeRole</code>.</p>
</div>
<div class="paragraph">
<p>Speaking of external resources referenced in error messages,
itâ€™s a great idea to have unique error codes as part of your messages
(such as Oracleâ€™s ORA codes, or the <a href="https://docs.wildfly.org/26/wildscribe/log-message-reference.html">error messages</a> produced by WildFly and its components).
Corresponding resources (either provided by yourself, or externally, for instance in answers on StackOverflow) will then be easy to find using your favourite search engine.
Bonus points for adding a reference to your own canonical resource right to the error message itself:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Couldnâ€™t take database snapshot: database user &#39;snapper&#39; is lacking the required permissions (DBZ-42). Please see <a href="https://dbz.codes/dbz-42/" class="bare">https://dbz.codes/dbz-42/</a> for the complete set of necessary permissions</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>(Thatâ€™s a made-up example, we donâ€™t make use of this approach in Debezium currently; but I probably should look into buying the dbz.codes domain ðŸ˜‰).</p>
</div>
<div class="paragraph">
<p>The key take-away is that you should not leave your users in the dark about what they need to do in order to address the error they ran into.
Nothing is more frustrating than essentially being told &#34;You did it wrong!&#34;, without getting hinted at whatâ€™s the right thing to do instead.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_general_best_practices">General Best Practices<a class="anchor" href="#_general_best_practices"></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Lastly, some practices in regards to error messages which I try to adhere to, and which I would generally recommend:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Uniform voice and style</strong>: The specific style chosen doesnâ€™t matter too much, but you should settle on either active vs. passive voice (&#34;couldnâ€™t parse config file&#34; vs. &#34;config file couldnâ€™t be parsed&#34;), apply consistent casing, either finish or not finishes messages with a dot, etc.; not a big thing, but it will make your messages a bit easier to deal with</p>
</li>
<li>
<p><strong>One concept, one term</strong>: Avoid referring to the same concept from your domain using different terms in different error messages; similarly, avoid using the same term for multiple things. Use the same terms as in other places, e.g. your API documentation, reference guides etc.; The more consisent and unambiguous you are, the better</p>
</li>
<li>
<p><strong>Donâ€™t localize error messages</strong>: This one is not as clear cut, but Iâ€™d generally recommend to not translate error messages into other languages than English; Again, this all is not about user-facing error messages, but about messages geared towards software developers and ops folks, who generally should command reasonable English skills; depending on your audience and target market, translations to specific languages might make sense, in which case a common, unambiguous error code should definitely be part of messages, so as to facilitate searching for the error on the internet</p>
</li>
<li>
<p><strong>Donâ€™t make error messages an API contract</strong>: In case consumers of your API should be able to react to different kinds of errors, they should not be required to parse any error messages in order to do so. Instead, raise an exception type which exposes a machine-processable error code, or raise specific exception types which can be caught separately by the caller</p>
</li>
<li>
<p><strong>Be cautious about exposing sensitive data</strong>: if your library is in the business of handling and processing sensitive user data, make sure to to not create any privacy concerns; for instance, &#34;show actual vs. expected value&#34; may not pose a problem for values provided by an application developer or administrator; but it can pose a problem if the actual value is GDPR protected user data</p>
</li>
<li>
<p><strong>Either raise an exception OR log an error, but not both</strong>: A given error should either be communicated by raising an exception or by logging an error. Otherwise, when doing both, as the exception will typically end up being logged via some kind of generic handler anyways, the user would see information about the same error in their logs twice, which only adds confusion</p>
</li>
<li>
<p><strong>Fail early</strong>: This one is not so much about how to express error messages, but when to raise them; in general, the earlier, the better; a message at application start-up beats one later at runtime; a message at build time beats one at start-up, etc. Quicker feedback makes for shorter turn-around times for fixes and also helps to provide the context of any failures</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With that all being said, whatâ€™s your take on the matter? Any best practices you would recommend? Do you have any examples for particularly well (or poorly) crafted messages? Let me know in the comments below!</p>
</div>
</div>
</div>
			</div>

			
			
			
			<div class="related-posts">
				<h3>Read Next</h3>
				<ul>
					
					<li><a href="/blog/the-code-review-pyramid/">The Code Review Pyramid</a> <span class="meta">Mar 10, 2022</span></li>
					
					<li><a href="/blog/refining-return-type-java-methods-without-breaking-backwards-compatibility/">Refining The Return Type Of Java Methods Without Breaking Backwards-Compatibility</a> <span class="meta">Nov 22, 2021</span></li>
					
					<li><a href="/blog/emitter-parameter-pattern-for-flexible-spis/">The Emitter Parameter Pattern for Flexible SPI Contracts</a> <span class="meta">May 4, 2020</span></li>
					
				</ul>
			</div>
			
			
		</div>

		<div class="post-footer">
			<div style="display: flex; align-items: center; gap: 1rem;">
				<div class="header-image-container" style="flex-shrink: 0;">
					<img class="footer-image" src="/images/gunnar_morling.jpg" alt="Gunnar Morling">
				</div>
				<p style="margin: 0;">Gunnar Morling is an open-source software engineer in the Java and data streaming space. He currently works as a Technologist for Confluent. In his past role at Decodable he focused on developer outreach and helped them build their stream processing platform based on Apache Flink. Prior to that, he spent ten years at Red Hat, where he led the Debezium project, a platform for change data capture.</p>
			</div>
		</div>

		
		
		<div class="post-discussions">
			<p>Comment below, or join the discussion on
			<a href="https://hn.algolia.com/?query=morling.dev/blog/whats-in-a-good-error-message/">Hacker News</a>,
			<a href="https://lobste.rs/search?q=domain:morling.dev+title:%22What%27s%20in%20a%20Good%20Error%20Message%3f%22&what=stories">Lobsters</a>, and
			<a href="https://www.reddit.com/search/?q=url:morling.dev/blog/whats-in-a-good-error-message/">Reddit</a>.
			</p>
		</div>
		<div id="disqus_thread"></div>

<script>
  
  window.addEventListener('load', function() {
    
    setTimeout(function() {
      const commentsContainer = document.getElementById('disqus_thread');
      const script = document.createElement('script');
      script.src = 'https://giscus.app/client.js';
      script.setAttribute('data-repo', 'gunnarmorling/discussions.morling.dev');
      script.setAttribute('data-repo-id', 'R_kgDOGXzqNQ');
      script.setAttribute('data-category', 'Announcements');
      script.setAttribute('data-category-id', 'DIC_kwDOGXzqNc4B_2Pq');
      script.setAttribute('data-mapping', 'title');
      script.setAttribute('data-reactions-enabled', '1');
      script.setAttribute('data-emit-metadata', '0');
      script.setAttribute('data-theme', 'light');
      script.setAttribute('data-lang', 'en');
      script.setAttribute('crossorigin', 'anonymous');
      script.async = true;
      commentsContainer.appendChild(script);
    }, 100);
  });
</script>

<noscript>Please enable JavaScript, or join the <a href="https://github.com/gunnarmorling/discussions.morling.dev/discussions/">discussion on GitHub</a>.</noscript>
</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Â© 2019 - 2025 Gunnar Morling |  Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons BY-SA 4.0</a> | <a href="/ai">How I use (and don't use) AI</a></div>
	</nav>
</div><script>
	mediumZoom(document.querySelectorAll('div.imageblock > div.content > img'))
</script>

</body>
</html>
