<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>performance on Gunnar Morling</title>
    <link>https://www.morling.dev/tags/performance/</link>
    <description>Recent content in performance on Gunnar Morling</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>© 2019 - 2025 Gunnar Morling</copyright>
    <lastBuildDate>Wed, 17 Sep 2025 17:09:00 +0200</lastBuildDate>
    <atom:link href="https://www.morling.dev/tags/performance/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Let&#39;s Take a Look at... Lower Java Tail Latencies With ZGC</title>
      <link>https://www.morling.dev/blog/lower-java-tail-latencies-with-zgc/</link>
      <pubDate>Wed, 17 Sep 2025 17:09:00 +0200</pubDate>
      <guid>https://www.morling.dev/blog/lower-java-tail-latencies-with-zgc/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_zgc_allocation_stalls&#34;&gt;ZGC Allocation Stalls&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_summary&#34;&gt;Summary&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph teaser&#34;&gt;&#xA;&lt;p&gt;In the &amp;#34;Let’s Take a Look at…​!&amp;#34; blog series I am exploring interesting projects, developments and technologies in the data and streaming space. This can be KIPs and FLIPs, open-source projects, services, relevant improvements to Java and the JVM, and more. The idea is to get some hands-on experience, learn about potential use cases and applications, and understand the trade-offs involved. If you think there’s a specific subject I should take a look at, let me know in the comments below.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Java 25 &lt;a href=&#34;https://www.oracle.com/news/announcement/oracle-releases-java-25-2025-09-16/&#34;&gt;was released&lt;/a&gt; earlier this week,&#xA;and it is the first Java release with long-term support (LTS) which ships with Generational ZGC as the one (and only) flavor of the ZGC garbage collector.&#xA;&lt;a href=&#34;https://openjdk.org/jeps/333&#34;&gt;ZGC&lt;/a&gt; itself is a relatively new concurrent collector, originally added in Java 11.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Building a Native Binary for Apache Kafka on macOS</title>
      <link>https://www.morling.dev/blog/building-native-binary-for-apache-kafka-macos/</link>
      <pubDate>Mon, 07 Apr 2025 12:25:00 +0200</pubDate>
      <guid>https://www.morling.dev/blog/building-native-binary-for-apache-kafka-macos/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_kip_974_docker_image_for_graalvm_based_native_kafka_broker&#34;&gt;KIP-974: Docker Image for GraalVM based Native Kafka Broker&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph teaser&#34;&gt;&#xA;&lt;p&gt;With help of the GraalVM configuration developed for KIP-974 (Docker Image for GraalVM based Native Kafka Broker),&#xA;you can easily build a self-contained native binary for Apache Kafka.&#xA;Read on to learn how you can build a native Kafka executable yourself,&#xA;starting in milli-seconds, making it a perfect fit for development and testing purposes.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;When I wrote about &lt;a href=&#34;https://www.morling.dev/blog/jep-483-aot-class-loading-linking/&#34;&gt;ahead-of-time class loading and linking in Java 24&lt;/a&gt; recently,&#xA;I also published the start-up time for Apache Kafka as a native binary for comparison.&#xA;This was done via Docker, as there’s no pre-built native binary of Kafka available for the operating system I’m running on, macOS.&#xA;But there is a native Kafka container image, so this is what I chose for the sake of convenience.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Now, running in a container adds a little bit of overhead of course,&#xA;so it wasn’t a surprise when Thomas Würthinger, lead of the GraalVM project at Oracle,&#xA;&lt;a href=&#34;https://bsky.app/profile/thomaswue.dev/post/3lloypreatk2s&#34;&gt;brought up the question&lt;/a&gt; what the value would be when running Kafka natively on macOS.&#xA;Needless to say I can’t leave this kind of nice nerd snipe pass,&#xA;so I set out to learn how to build a native Kafka binary on macOS, using GraalVM.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Let&#39;s Take a Look at... JEP 483: Ahead-of-Time Class Loading &amp; Linking!</title>
      <link>https://www.morling.dev/blog/jep-483-aot-class-loading-linking/</link>
      <pubDate>Thu, 27 Mar 2025 14:00:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/jep-483-aot-class-loading-linking/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_building_an_aot_cache_for_apache_kafka&#34;&gt;Building an AOT Cache for Apache Kafka&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_aot_caching_with_apache_flink&#34;&gt;AOT Caching With Apache Flink&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_summary&#34;&gt;Summary&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph teaser&#34;&gt;&#xA;&lt;p&gt;In the &amp;#34;Let’s Take a Look at…​!&amp;#34; blog series I am exploring interesting projects, developments and technologies in the data and streaming space. This can be KIPs and FLIPs, open-source projects, services, relevant improvements to Java and the JVM, and more. The idea is to get some hands-on experience, learn about potential use cases and applications, and understand the trade-offs involved. If you think there’s a specific subject I should take a look at, let me know in the comments below.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://openjdk.org/projects/jdk/24/&#34;&gt;Java 24&lt;/a&gt; got released last week,&#xA;and what a meaty release it is:&#xA;more than twenty Java Enhancement Proposals (JEPs) have been shipped,&#xA;including highlights such as compact object headers (&lt;a href=&#34;https://openjdk.org/jeps/450&#34;&gt;JEP 450&lt;/a&gt;, I hope to spend some time diving into that one some time soon),&#xA;a new class-file API (&lt;a href=&#34;https://openjdk.org/jeps/484&#34;&gt;JEP 484&lt;/a&gt;),&#xA;and more flexible constructor bodies (&lt;a href=&#34;https://openjdk.org/jeps/492&#34;&gt;JEP 492&lt;/a&gt;, third preview).&#xA;One other JEP which might fly a bit under the radar is &lt;a href=&#34;https://openjdk.org/jeps/483&#34;&gt;JEP 483&lt;/a&gt; (&amp;#34;Ahead-of-Time Class Loading &amp;amp; Linking&amp;#34;).&#xA;It promises to reduce the start-up time of Java applications without requiring any modifications to the application itself,&#xA;what’s not to be liked about that?&#xA;Let’s take a closer look!&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>1BRC—The Results Are In!</title>
      <link>https://www.morling.dev/blog/1brc-results-are-in/</link>
      <pubDate>Sun, 04 Feb 2024 16:34:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/1brc-results-are-in/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_results&#34;&gt;Results&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_bonus_result_32_cores_64_threads&#34;&gt;Bonus Result: 32 Cores, 64 Threads&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_bonus_result_10k_key_set&#34;&gt;Bonus Result: 10K Key Set&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_thank_you&#34;&gt;Thank You!&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_which_challenge_will_be_next&#34;&gt;Which Challenge Will Be Next?&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Oh what a wild ride the last few weeks have been.&#xA;The &lt;a href=&#34;https://www.morling.dev/blog/one-billion-row-challenge/&#34;&gt;One Billion Row Challenge&lt;/a&gt; (1BRC for short),&#xA;something I had expected to be interesting to a dozen folks or so at best,&#xA;has gone kinda viral, with hundreds of people competing and engaging.&#xA;In Java, as intended, but also &lt;a href=&#34;https://github.com/gunnarmorling/1brc/discussions/categories/show-and-tell&#34;&gt;beyond&lt;/a&gt;:&#xA;folks implemented the challenge in languages such as Go, Rust, C/C++, C#, Fortran, or Erlang, as well databases (Postgres, Oracle, Snowflake, etc.), and tools like awk.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;It’s really incredible how far people have pushed the limits here.&#xA;Pull request by pull request, the execution times for solving the problem layed out in the challenge — aggregating random temperature values from a file with 1,000,000,000 rows — improved by two orders of magnitudes in comparison to the initial baseline implementation.&#xA;Today I am happy to share the final results, as the challenge closed for new entries after exactly one month on Jan 31&#xA;and all submissions have been reviewed.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>The One Billion Row Challenge</title>
      <link>https://www.morling.dev/blog/one-billion-row-challenge/</link>
      <pubDate>Mon, 01 Jan 2024 00:00:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/one-billion-row-challenge/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;em&gt;Update Jan 4: Wow, this thing really took off!&lt;/em&gt;&#xA;&lt;em&gt;1BRC is discussed at a couple of places on the internet, including &lt;a href=&#34;https://news.ycombinator.com/item?id=38851337&#34;&gt;Hacker News&lt;/a&gt;, &lt;a href=&#34;https://lobste.rs/s/u2qcnf/one_billion_row_challenge&#34;&gt;lobste.rs&lt;/a&gt;, and &lt;a href=&#34;https://old.reddit.com/r/programming/comments/18x0x0u/the_one_billion_row_challenge/&#34;&gt;Reddit&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;em&gt;For folks to show-case non-Java solutions, there is a &lt;a href=&#34;https://github.com/gunnarmorling/1brc/discussions/categories/show-and-tell&#34;&gt;&amp;#34;Show &amp;amp; Tell&amp;#34;&lt;/a&gt; now, check that one out for 1BRC implementations in Rust, Go, C++, and others.&lt;/em&gt;&#xA;&lt;em&gt;Some interesting related write-ups include &lt;a href=&#34;https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/&#34;&gt;1BRC in SQL with DuckDB&lt;/a&gt; by Robin Moffatt and &lt;a href=&#34;https://ftisiot.net/posts/1brows/&#34;&gt;1 billion rows challenge in PostgreSQL and ClickHouse&lt;/a&gt; by Francesco Tisiot.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;em&gt;Thanks a lot for all the submissions, this is going way beyond what I’d have expected!&lt;/em&gt;&#xA;&lt;em&gt;I am behind a bit with evalutions due to the sheer amount of entries, I will work through them bit by bit.&lt;/em&gt;&#xA;&lt;em&gt;I have also made a few clarifications to &lt;a href=&#34;https://github.com/gunnarmorling/1brc#faq&#34;&gt;the rules&lt;/a&gt; of the challenge; please make sure to read them before submitting any entries.&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Let’s kick off 2024 true coder style—​I’m excited to announce the &lt;a href=&#34;https://github.com/gunnarmorling/onebrc&#34;&gt;One Billion Row Challenge&lt;/a&gt; (1BRC), running from Jan 1 until Jan 31.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Your mission, should you decide to accept it, is deceptively simple:&#xA;write a Java program for retrieving temperature measurement values from a text file and calculating the min, mean, and max temperature per weather station.&#xA;There’s just one caveat: the file has &lt;strong&gt;1,000,000,000 rows&lt;/strong&gt;!&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Tracking Java Native Memory With JDK Flight Recorder</title>
      <link>https://www.morling.dev/blog/tracking-java-native-memory-with-jdk-flight-recorder/</link>
      <pubDate>Sun, 17 Dec 2023 19:29:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/tracking-java-native-memory-with-jdk-flight-recorder/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_an_example&#34;&gt;An Example&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_tracking_rss&#34;&gt;Tracking RSS&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;As regular readers of this blog will now, &lt;a href=&#34;https://openjdk.org/jeps/328&#34;&gt;JDK Flight Recorder&lt;/a&gt; (JFR) is one of my favorite tools of the Java platform.&#xA;This low-overhead event recording engine built into the JVM is invaluable for observing the runtime characteristics of Java applications and identifying any potential performance issues.&#xA;JFR continues to become better and better with every new release,&#xA;with one recent addition being support for native memory tracking (NMT).&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Finding Java Thread Leaks With JDK Flight Recorder and a Bit Of SQL</title>
      <link>https://www.morling.dev/blog/finding-java-thread-leaks-with-jdk-flight-recorder-and-bit-of-sql/</link>
      <pubDate>Tue, 28 Feb 2023 22:16:10 +0100</pubDate>
      <guid>https://www.morling.dev/blog/finding-java-thread-leaks-with-jdk-flight-recorder-and-bit-of-sql/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;The other day at work, we had a situation where we suspected a thread leak in one particular service,&#xA;i.e. code which continuously starts new threads, without taking care of ever stopping them again.&#xA;Each thread requires a bit of memory for its stack space,&#xA;so starting an unbounded number of threads can be considered as a form of memory leak, causing your application to run out of memory eventually.&#xA;In addition, the more threads there are, the more overhead the operating system incurs for scheduling them,&#xA;until the scheduler itself will consume most of the available CPU resources.&#xA;Thus it’s vital to detect and fix this kind of problem early on.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Introducing JfrUnit 1.0.0.Alpha1</title>
      <link>https://www.morling.dev/blog/introducing-jfrunit-1-0-0-alpha1/</link>
      <pubDate>Wed, 04 Aug 2021 19:10:00 +0200</pubDate>
      <guid>https://www.morling.dev/blog/introducing-jfrunit-1-0-0-alpha1/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_getting_started_with_jfrunit&#34;&gt;Getting Started With JfrUnit&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_groovier_tests_with_spock&#34;&gt;Groovier Tests With Spock&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_outlook&#34;&gt;Outlook&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;em&gt;Unit testing, for performance&lt;/em&gt;&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;It’s with great pleasure that I’m announcing the first official release of JfrUnit today!&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/moditect/jfrunit&#34;&gt;JfrUnit&lt;/a&gt; is an extension to JUnit which allows you to assert &lt;a href=&#34;https://openjdk.java.net/jeps/328&#34;&gt;JDK Flight Recorder&lt;/a&gt; events in your unit tests.&#xA;This capability opens up a number of interesting use cases in the field of testing JVM-based applications:&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;ulist&#34;&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;You can use JfrUnit to ensure your application produces the &lt;a href=&#34;blog/rest-api-monitoring-with-custom-jdk-flight-recorder-events/&#34;&gt;custom JFR events&lt;/a&gt; you expect it to emit&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;You can use JfrUnit to identify potential performance regressions of your application by means of tracking JFR events e.g. for garbage collection, memory allocation and network I/O&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;You can use JfrUnit together with &lt;a href=&#34;https://wiki.openjdk.java.net/display/jmc/The+JMC+Agent&#34;&gt;JMC Agent&lt;/a&gt; for whitebox tests of your application, ensuring specific methods are invoked with the expected parameters and return values&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>FizzBuzz – SIMD Style!</title>
      <link>https://www.morling.dev/blog/fizzbuzz-simd-style/</link>
      <pubDate>Mon, 08 Mar 2021 16:25:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/fizzbuzz-simd-style/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_whats_simd_anyways&#34;&gt;What’s SIMD Anyways?&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_vectorizing_fizzbuzz&#34;&gt;Vectorizing FizzBuzz&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_examining_the_native_code&#34;&gt;Examining the Native Code&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_avoiding_scalar_processing_of_tail_elements&#34;&gt;Avoiding Scalar Processing of Tail Elements&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_wrap_up&#34;&gt;Wrap-Up&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Java 16 is around the corner, so there’s no better time than now for learning more about the features which the new version will bring.&#xA;After exploring the support for &lt;a href=&#34;https://www.morling.dev/blog/talking-to-postgres-through-java-16-unix-domain-socket-channels/&#34;&gt;Unix domain sockets&lt;/a&gt; a while ago,&#xA;I’ve lately been really curious about the incubating Vector API,&#xA;as defined by &lt;a href=&#34;https://openjdk.java.net/jeps/338&#34;&gt;JEP 338&lt;/a&gt;,&#xA;developed under the umbrella of &lt;a href=&#34;https://openjdk.java.net/projects/panama/&#34;&gt;Project Panama&lt;/a&gt;,&#xA;which aims at &amp;#34;interconnecting JVM and native code&amp;#34;.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;&lt;em&gt;Vectors?!?&lt;/em&gt;&#xA;Of course this is not about renewing the ancient Java collection types like &lt;code&gt;java.util.Vector&lt;/code&gt;&#xA;(&amp;lt;insert some pun about this here&amp;gt;),&#xA;but rather about an API which lets Java developers take advantage of the vector calculation capabilities you can find in most CPUs these days.&#xA;Now I’m by no means an expert on low-level programming leveraging specific CPU instructions,&#xA;but exactly that’s why I hope to make the case with this post that the new Vector API makes these capabilities approachable to a wide audience of Java programmers.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Towards Continuous Performance Regression Testing</title>
      <link>https://www.morling.dev/blog/towards-continuous-performance-regression-testing/</link>
      <pubDate>Wed, 16 Dec 2020 17:45:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/towards-continuous-performance-regression-testing/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_getting_started_with_jfrunit&#34;&gt;Getting Started With JfrUnit&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_case_study_1_spotting_increased_memory_allocation&#34;&gt;Case Study 1: Spotting Increased Memory Allocation&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_case_study_2_identifying_increased_io_with_the_database&#34;&gt;Case Study 2: Identifying Increased I/O With the Database&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_discussion&#34;&gt;Discussion&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_summary_and_outlook&#34;&gt;Summary and Outlook&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Functional unit and integration tests are a standard tool of any software development organization,&#xA;helping not only to ensure correctness of newly implemented code,&#xA;but also to identify regressions — bugs in existing functionality introduced by a code change.&#xA;The situation looks different though when it comes to regressions related to non-functional requirements, in particular performance-related ones:&#xA;How to detect increased response times in a web application?&#xA;How to identify decreased throughput?&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;These aspects are typically hard to test in an automated and reliable way in the development workflow,&#xA;as they are dependent on the underlying hardware and the workload of an application.&#xA;For instance assertions on the duration of specific requests of a web application typically cannot be run in a meaningful way on a developer laptop,&#xA;which differs from the actual production hardware&#xA;(ironically, nowadays both is an option, the developer laptop being less or more powerful than the actual production environment).&#xA;When run in a virtualized or containerized CI environment, such tests are prone to severe measurement distortions due to concurrent load of other applications and jobs.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;This post introduces the &lt;a href=&#34;https://github.com/gunnarmorling/jfrunit&#34;&gt;JfrUnit&lt;/a&gt; open-source project, which offers a fresh angle to this topic by supporting assertions not on metrics like latency/throughput themselves, but on &lt;em&gt;indirect metrics&lt;/em&gt; which may impact those.&#xA;JfrUnit allows you define expected values for metrics such as memory allocation, database I/O, or number of executed SQL statements, for a given workload and asserts the actual metrics values — which are obtained from &lt;a href=&#34;https://openjdk.java.net/jeps/328&#34;&gt;JDK Flight Recorder&lt;/a&gt; events — against these expected values.&#xA;Starting off from a defined base line, future failures of such assertions are an indicator for potential performance regressions in an application, as a code change may have introduced higher GC pressure,&#xA;the retrieval of unneccessary data from the database, or SQL problems commonly induced by ORM tools, like N+1 SELECT statements.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Smaller, Faster-starting Container Images With jlink and AppCDS</title>
      <link>https://www.morling.dev/blog/smaller-faster-starting-container-images-with-jlink-and-appcds/</link>
      <pubDate>Sun, 13 Dec 2020 20:30:00 +0100</pubDate>
      <guid>https://www.morling.dev/blog/smaller-faster-starting-container-images-with-jlink-and-appcds/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_creating_a_modular_runtime_image_for_a_quarkus_application&#34;&gt;Creating a Modular Runtime Image for a Quarkus Application&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_adding_an_appcds_archive_to_a_custom_runtime_image&#34;&gt;Adding an AppCDS Archive to a Custom Runtime Image&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_creating_a_linux_container_image&#34;&gt;Creating a Linux Container Image&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_lets_see_some_numbers&#34;&gt;Let’s See Some Numbers!&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;A few months ago I &lt;a href=&#34;https://www.morling.dev/blog/building-class-data-sharing-archives-with-apache-maven/&#34;&gt;wrote about&lt;/a&gt; how you could speed up your Java application’s start-up times using application class data sharing (&lt;a href=&#34;http://openjdk.java.net/jeps/350&#34;&gt;AppCDS&lt;/a&gt;),&#xA;based on the example of a simple &lt;a href=&#34;https://quarkus.io/&#34;&gt;Quarkus&lt;/a&gt; application.&#xA;Since then, quite some progress has been made in this area:&#xA;Quarkus 1.6 brought &lt;a href=&#34;https://quarkus.io/guides/maven-tooling#quarkus-package-pkg-package-config_quarkus.package.create-appcds&#34;&gt;built-in support for AppCDS&lt;/a&gt;,&#xA;so that now you just need to provide the &lt;em&gt;-Dquarkus.package.create-appcds=true&lt;/em&gt; option when building your project,&#xA;and you’ll find an AppCDS file in the &lt;em&gt;target&lt;/em&gt; folder.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Things get more challenging though when combining AppCDS with custom Java runtime images,&#xA;as produced using the &lt;a href=&#34;https://docs.oracle.com/en/java/javase/15/docs/specs/man/jlink.html&#34;&gt;jlink&lt;/a&gt; tool added in Java 9.&#xA;Combining custom runtime images with AppCDS is very attractive,&#xA;in particular when looking at the deployment of Java applications via Linux containers.&#xA;Instead of putting the full Java runtime into the container image, you only add those JDK modules which your application actually requires.&#xA;(Parts of) what you save in image size by doing so,&#xA;can be used for adding an AppCDS archive to your container image.&#xA;The result will be a container image which still is smaller than before — and thus is faster to push to a container registry, distribute to worker nodes in a Kubernetes cluster, etc. — and which starts up significantly faster.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Building hsdis for OpenJDK 15</title>
      <link>https://www.morling.dev/blog/building-hsdis-for-openjdk-15/</link>
      <pubDate>Mon, 05 Oct 2020 20:30:00 +0200</pubDate>
      <guid>https://www.morling.dev/blog/building-hsdis-for-openjdk-15/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Lately I’ve been fascinated by the possibility to analyse the assembly code emitted by the Java JIT (just-in-time) compiler.&#xA;So far I had only looked only into Java class files using &lt;em&gt;javap&lt;/em&gt;;&#xA;diving into the world of assembly code feels a bit like Alice must have felt when falling down the rabbit whole into wonderland.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Building Class Data Sharing Archives with Apache Maven</title>
      <link>https://www.morling.dev/blog/building-class-data-sharing-archives-with-apache-maven/</link>
      <pubDate>Thu, 11 Jun 2020 17:30:00 +0200</pubDate>
      <guid>https://www.morling.dev/blog/building-class-data-sharing-archives-with-apache-maven/</guid>
      <description>&lt;div id=&#34;toc&#34; class=&#34;toc&#34;&gt;&#xA;&lt;div id=&#34;toctitle&#34;&gt;Table of Contents&lt;/div&gt;&#xA;&lt;ul class=&#34;sectlevel1&#34;&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_manually_creating_cds_archives&#34;&gt;Manually Creating CDS Archives&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_using_the_cds_archive&#34;&gt;Using the CDS Archive&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_creating_cds_archives_in_your_maven_build&#34;&gt;Creating CDS Archives in Your Maven Build&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_what_do_you_gain&#34;&gt;What Do You Gain?&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;#_wrap_up&#34;&gt;Wrap-Up&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;Ahead-of-time compilation (AOT) is &lt;em&gt;the&lt;/em&gt; big topic in the Java ecosystem lately:&#xA;by compiling Java code to native binaries, developers and users benefit from vastly improved start-up times and reduced memory usage.&#xA;The &lt;a href=&#34;https://www.graalvm.org/&#34;&gt;GraalVM&lt;/a&gt; project made huge progress towards AOT-compiled Java applications,&#xA;and &lt;a href=&#34;https://mail.openjdk.java.net/pipermail/discuss/2020-April/005429.html&#34;&gt;Project Leyden&lt;/a&gt; promises to standardize AOT in a future version of the Java platform.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;This makes it easy to miss out on significant performance improvements which have been made on the JVM in recent Java versions,&#xA;in particular when it comes to &lt;a href=&#34;https://cl4es.github.io/2019/11/20/OpenJDK-Startup-Update.html&#34;&gt;faster start-up times&lt;/a&gt;.&#xA;Besides a range of improvements related to class loading, linking and bytecode verification,&#xA;substantial work has been done around &lt;a href=&#34;https://docs.oracle.com/en/java/javase/14/vm/class-data-sharing.html&#34;&gt;class data sharing&lt;/a&gt; (CDS).&#xA;Faster start-ups are beneficial in many ways:&#xA;shorter turnaround times during development,&#xA;quicker time-to-first-response for users in coldstart scenarios,&#xA;cost savings when billed by CPU time in the cloud.&lt;/p&gt;&#xA;&lt;/div&gt;&#xA;&lt;div class=&#34;paragraph&#34;&gt;&#xA;&lt;p&gt;With CDS, class metadata is persisted in an archive file,&#xA;which during subsequent application starts is mapped into memory.&#xA;This is faster than loading the actual class files, resulting in reduced start-up times.&#xA;When starting multiple JVM processes on the same host, read-only archives of class metadata can also be shared between the VMs, so that less memory is consumed overall.&lt;/p&gt;&#xA;&lt;/div&gt;</description>
    </item>
  </channel>
</rss>
